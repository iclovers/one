<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>开启心理学大门</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/lj_hongbao.css">
    <link rel="stylesheet" href="../css/amazeui.min.css">
</head>
<body>
    <div class="lj_hb">
        <div class="lj_hbwrap">
            <div class="lj_hbHd">
                <div class="lj_hdCon">
                    <h1>壹心理新用户暖心陪伴<br>随机优惠礼包</h1>
                    <div class="lj_count">
                        <span class="lj_rand1"><b class="lj_money1">?</b>元</span>
                        <span class="lj_rand2"><b class="lj_money2">?</b>元</span>                      
                    </div>
                    <p>随机领取专业课程、心理咨询、专业测评 <br>报告优惠券</p>
                    <a class=" lj_get am-btn-primary" onclick="openModal()"></a>
                    <div class="am-modal am-modal-no-btn" tabindex="-1" id="my-modal">
                        <div class="am-modal-dialog" id="lj_box">
                            <div class="am-modal-hd lj_deng">
                                 <h4>输入手机号验证</h4>
                                <span data-am-modal-close class="am-close">&times;</span>
                            </div>
                            <div class="am-modal-bd lj_main">
                                <input type="tel" maxlength="11" placeholder="输入您的手机号,验证是否是新用户" class="mobile">
                                <div class="lj_yan">
                                    <input type="text" maxlength="6" placeholder="请输入验证码" class="code">
                                    <button class="lj_huo">获取验证码</button>
                                    <p class="lj_tip">请输入正确手机号</p>
                                    <p class="lj_tip lj_tips">请输入正确的验证码</p>
                                    <div class="lj_gift">领取礼包</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="lj_finish">验证码发送成功</div>
                    <div class="lj_ling">恭喜你！领取成功</div>
                    <div class="lj_mes">
                        <h5><i class="am-icon-envelope"></i>亲爱哒！短信来了···</h5>
                        <p>恭喜亲亲成为我们壹心理的新用户！壹心理为您暖心准备的随机礼包已送达！亲亲可以在红包里面可以查看哟！</p>
                    </div>
                </div>
            </div>
            <p class="lj_tips">
                *注：此优惠礼包只有新用户可以领取～老用户随机礼包<br>
                可以到app-我的-设置-邀请好友中获得～
            </p>
            <div class="lj_use">优惠券如何使用</div>
            <div class="lj_info">
                <p>下载壹心理app或关注壹心理公众号</p>
                <p>查看【我的-优惠券】，点击进入对应课程／测试／咨询师等服务使用</p>
            </div>
            <div class="lj_hbImg"></div>
            <footer>
                <a href="lj_index.html" class="lj_hberweima"></a>
                <p>扫一扫<br> 关注壹心理公众号</p>
            </footer>

        </div>
    </div>
    
    <script src="../js/common.js"></script>
    <script src="../js/jquery-3.3.1.min.js"></script>
    <script src="../js/amazeui.min.js"></script>
    <script>
        function openModal(){
            $('#my-modal').modal();
        }
        $(function(){
            var tel =$(".mobile");
            var code = $(".code");
            $(".lj_huo").on("click",function(){
                if(tel.val()==="" || tel.val().length<11){
                    $(".lj_tip").show();
                    $(".lj_tips").hide();
                }else{
                    $(".lj_tip").hide();
                    $(".lj_finish").show();
                }
                setTimeout(function(){
                    $(".lj_finish").hide();
                },3000);
                
            })
            $(".lj_gift").on("click",function(){
                // 验证码
                if(tel.val()==="" || tel.val().length<11){
                    $(".lj_tip").show();
                    $(".lj_tips").hide();
                }else if(code.val()==="" || code.val().length !==6){
                        $(".lj_tip").hide();
                        $(".lj_tips").show();

                }else{
                    $(".lj_tip").hide();
                    $(".lj_tips").hide();
                    // 弹出领取成功
                    $(".lj_ling").show();
                    setTimeout(function(){
                        $(".lj_mes").slideDown();
                    },2000)
                }
                setTimeout(function(){
                    $(".lj_ling").hide();
                    $(".lj_mes").slideUp(500);
                },4000);
            })
        })
        function getRandom(min,max){
            return parseFloat(Math.random() * (max - min + 1) +  min,2).toFixed(2);
        }
        var flag1 = true;
        $(".lj_rand1").on("click",function(){
            if(flag1){
                flag1 = false;
                var result = getRandom(1,100);
                $(".lj_money1").html(result);
            }
        })
        var flag2 = true;
        $(".lj_rand2").on("click",function(){
            if(flag2){
                flag2 = false;
                var result = getRandom(1,100);
                $(".lj_money2").html(result);
            } 
        })
    </script>
</body>
</html>